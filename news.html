<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <!-- Primary Meta Tags -->
    <title>Agriculture News Hub | AGSIST - Free Farming News Aggregator</title>
    <meta name="title" content="Agriculture News Hub | AGSIST - Free Farming News Aggregator">
    <meta name="description" content="Free agriculture news aggregator with AI-powered summaries. Get farming news from 30+ sources including Reddit, university extension, USDA, and industry publications. Updated every 2 hours.">
    <meta name="keywords" content="agriculture news, farming news, farm news aggregator, USDA news, crop news, livestock news, ag news, farm prices, agricultural news today, farming updates, rural news, ag industry news">
    <meta name="author" content="AGSIST">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    <link rel="canonical" href="https://agsist.com/news.html">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://agsist.com/news.html">
    <meta property="og:title" content="Agriculture News Hub | AGSIST - Free Farming News Aggregator">
    <meta property="og:description" content="Free agriculture news aggregator with AI-powered summaries. 30+ sources including Reddit farming communities, university extension, and industry news. Updated every 2 hours.">
    <meta property="og:image" content="https://agsist.com/images/og-news.jpg">
    <meta property="og:site_name" content="AGSIST">
    <meta property="og:locale" content="en_US">
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://agsist.com/news.html">
    <meta name="twitter:title" content="Agriculture News Hub | AGSIST">
    <meta name="twitter:description" content="Free agriculture news aggregator with AI-powered summaries from 30+ sources. Updated every 2 hours.">
    <meta name="twitter:image" content="https://agsist.com/images/og-news.jpg">
    
    <!-- Mobile App Meta Tags -->
    <meta name="theme-color" content="#0a0a0c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="AGSIST News">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    <!-- Preconnect for Performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://www.googletagmanager.com">
    <link rel="dns-prefetch" href="https://www.google-analytics.com">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Shared Styles (nav, footer, base) -->
    <link rel="stylesheet" href="components/shared.css">
    
    <!-- Google Analytics 4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-6KXCTD5Z9H"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-6KXCTD5Z9H');
    </script>
    
    <!-- Schema.org Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebPage",
      "name": "Agriculture News Hub",
      "description": "Free agriculture news aggregator with AI-powered summaries from 30+ sources",
      "url": "https://agsist.com/news.html",
      "isPartOf": { "@type": "WebSite", "name": "AGSIST", "url": "https://agsist.com" },
      "about": { "@type": "Thing", "name": "Agriculture News" },
      "audience": { "@type": "Audience", "audienceType": "Farmers, Ranchers, Agricultural Professionals" },
      "publisher": { "@type": "Organization", "name": "AGSIST", "url": "https://agsist.com" }
    }
    </script>
    
    <!-- Breadcrumb Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        { "@type": "ListItem", "position": 1, "name": "Home", "item": "https://agsist.com" },
        { "@type": "ListItem", "position": 2, "name": "Agriculture News Hub", "item": "https://agsist.com/news.html" }
      ]
    }
    </script>
    
    <!-- FAQ Schema for SEO -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        { "@type": "Question", "name": "What is AGSIST Agriculture News Hub?", "acceptedAnswer": { "@type": "Answer", "text": "AGSIST Agriculture News Hub is a free news aggregator that collects farming and agriculture news from over 30 sources including Reddit communities, university extension services, and industry publications. Articles are updated every 2 hours and include AI-powered summaries." }},
        { "@type": "Question", "name": "How do the AI summaries work?", "acceptedAnswer": { "@type": "Answer", "text": "When you click the Summary button on any article, our system fetches the full article content and uses Claude AI to generate a comprehensive 4-6 sentence summary covering key facts, numbers, and why the news matters to farmers." }},
        { "@type": "Question", "name": "What sources does the news hub aggregate from?", "acceptedAnswer": { "@type": "Answer", "text": "We aggregate from 30+ sources including Reddit farming communities (r/farming, r/agriculture, r/tractors), university extension services (UW Madison, Purdue, Iowa State, Texas A&M), and industry publications (AgDaily, Farm Journal, Brownfield, Lancaster Farming)." }},
        { "@type": "Question", "name": "How often is the news updated?", "acceptedAnswer": { "@type": "Answer", "text": "The Agriculture News Hub automatically fetches new articles from all sources every 2 hours, ensuring you always have access to the latest farming news and agricultural updates." }}
      ]
    }
    </script>
    
    <!-- Page-Specific Styles -->
    <style>
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        /* HERO */
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .hero {
            background: linear-gradient(180deg, var(--surface) 0%, var(--bg) 100%);
            text-align: center;
            padding: 48px 20px 32px;
            border-bottom: 1px solid var(--border);
        }
        .hero h1 { font-size: 2.4rem; color: var(--text); margin-bottom: 12px; font-weight: 700; }
        .hero h1 span { color: var(--accent); }
        .hero p { color: var(--dim); font-size: 1rem; max-width: 700px; margin: 0 auto 24px; }
        
        .stats-bar { display: flex; justify-content: center; gap: 32px; flex-wrap: wrap; }
        .stat { text-align: center; }
        .stat-value { font-size: 1.8rem; font-weight: 700; color: var(--accent); }
        .stat-label { font-size: 0.7rem; color: var(--dim); text-transform: uppercase; letter-spacing: 1px; }
        
        /* AI Feature Callout */
        .ai-feature {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(59, 130, 246, 0.1));
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 12px; padding: 16px 20px; max-width: 700px; margin: 0 auto 24px;
            display: flex; align-items: flex-start; gap: 12px; text-align: left;
        }
        .ai-feature-badge { background: linear-gradient(135deg, #8b5cf6, #3b82f6); color: #fff; font-size: 0.7rem; font-weight: 700; padding: 4px 10px; border-radius: 20px; white-space: nowrap; flex-shrink: 0; }
        .ai-feature-text { font-size: 0.82rem; color: var(--dim); line-height: 1.6; }
        .ai-feature-text strong { color: var(--text); }
        .inline-btn { display: inline-flex; align-items: center; gap: 3px; background: var(--accent); color: #000; padding: 2px 8px; border-radius: 4px; font-size: 0.7rem; font-weight: 700; vertical-align: middle; }
        .inline-btn .mini-badge { background: #000; color: var(--accent); font-size: 0.55rem; padding: 1px 3px; border-radius: 2px; }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        /* MAIN LAYOUT */
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        main { max-width: 1600px; margin: 0 auto; padding: 24px 16px; }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        /* FILTERS */
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .filters { display: flex; gap: 8px; margin-bottom: 24px; flex-wrap: wrap; justify-content: center; padding: 0 16px; }
        .filter-btn { background: var(--card); border: 1px solid var(--border); color: var(--dim); padding: 10px 18px; border-radius: 8px; cursor: pointer; font-family: inherit; font-size: 0.8rem; font-weight: 500; transition: all 0.2s; display: flex; align-items: center; gap: 8px; }
        .filter-btn:hover { border-color: var(--accent); color: var(--text); background: var(--card-hover); }
        .filter-btn.active { background: var(--accent); border-color: var(--accent); color: #000; }
        .filter-btn .count { background: rgba(0,0,0,0.15); padding: 2px 8px; border-radius: 10px; font-size: 0.7rem; font-weight: 600; }
        .filter-btn[data-cat="community"].active { background: var(--community); }
        .filter-btn[data-cat="government"].active { background: var(--government); }
        .filter-btn[data-cat="university"].active { background: var(--university); }
        .filter-btn[data-cat="industry"].active { background: var(--industry); }
        .filter-btn[data-cat="markets"].active { background: var(--markets); }
        .filter-btn[data-cat="weather"].active { background: var(--weather); }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        /* STATUS BAR */
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .status-bar { text-align: center; color: var(--dim); font-size: 0.75rem; margin-bottom: 20px; display: flex; justify-content: center; align-items: center; gap: 16px; }
        .status-bar .live { display: flex; align-items: center; gap: 6px; }
        .status-bar .live::before { content: ''; width: 8px; height: 8px; background: #22c55e; border-radius: 50%; animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        /* FEED GRID & ARTICLE CARDS */
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .feed-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 16px; }
        
        .article { background: var(--card); border: 1px solid var(--border); border-radius: 12px; overflow: hidden; transition: all 0.25s ease; }
        .article:hover { background: var(--card-hover); border-color: var(--accent); transform: translateY(-4px); box-shadow: 0 12px 40px rgba(0,0,0,0.4); }
        .article-thumb { width: 100%; height: 140px; object-fit: cover; background: var(--border); display: block; }
        .article-body { padding: 16px; }
        .article-meta { display: flex; align-items: center; gap: 10px; margin-bottom: 12px; flex-wrap: wrap; }
        .article-source { font-size: 0.7rem; padding: 4px 10px; border-radius: 6px; font-weight: 600; display: inline-flex; align-items: center; gap: 4px; white-space: nowrap; }
        .article-source.community { background: rgba(255,107,53,0.15); color: var(--community); }
        .article-source.government { background: rgba(16,185,129,0.15); color: var(--government); }
        .article-source.university { background: rgba(59,130,246,0.15); color: var(--university); }
        .article-source.industry { background: rgba(139,92,246,0.15); color: var(--industry); }
        .article-source.markets { background: rgba(245,158,11,0.15); color: var(--markets); }
        .article-source.weather { background: rgba(6,182,212,0.15); color: var(--weather); }
        .article-date { color: var(--dim); font-size: 0.7rem; margin-left: auto; white-space: nowrap; }
        .article-title { font-size: 0.95rem; font-weight: 600; color: var(--text); margin-bottom: 8px; line-height: 1.4; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; }
        .article-excerpt { font-size: 0.8rem; color: var(--dim); line-height: 1.5; margin-bottom: 12px; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; }
        .article-footer { display: flex; justify-content: space-between; align-items: center; padding-top: 12px; border-top: 1px solid var(--border); gap: 8px; flex-wrap: wrap; }
        .article-link { color: var(--accent); font-size: 0.75rem; font-weight: 600; text-decoration: none; padding: 6px 12px; border: 1px solid var(--border); border-radius: 4px; transition: all 0.2s; white-space: nowrap; }
        .article-link:hover { border-color: var(--accent); background: rgba(230,176,66,0.1); }
        .article.reddit .article-source::before { content: 'ğŸ”¥'; font-size: 0.8rem; }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        /* LOADING / ERROR */
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .loading, .error, .empty { grid-column: 1 / -1; text-align: center; padding: 60px 20px; color: var(--dim); font-size: 0.9rem; }
        .loading::before { content: "â³"; display: block; font-size: 3rem; margin-bottom: 16px; animation: spin 2s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        .error::before { content: "âš ï¸"; display: block; font-size: 3rem; margin-bottom: 16px; }
        .empty::before { content: "ğŸ“­"; display: block; font-size: 3rem; margin-bottom: 16px; }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        /* SOURCES SECTION */
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .sources-section { margin-top: 60px; padding-top: 40px; border-top: 1px solid var(--border); }
        .sources-section h2 { text-align: center; color: var(--text); margin-bottom: 32px; font-size: 1.4rem; }
        .sources-section h2 span { color: var(--accent); }
        .sources-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; }
        .source-card { background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 20px; }
        .source-card h3 { color: var(--text); font-size: 0.9rem; margin-bottom: 12px; display: flex; align-items: center; gap: 10px; }
        .source-card h3 .dot { width: 10px; height: 10px; border-radius: 50%; }
        .source-card h3 .dot.community { background: var(--community); }
        .source-card h3 .dot.university { background: var(--university); }
        .source-card h3 .dot.industry { background: var(--industry); }
        .source-card h3 .dot.markets { background: var(--markets); }
        .source-card ul { list-style: none; font-size: 0.8rem; }
        .source-card li { padding: 6px 0; color: var(--dim); border-bottom: 1px solid var(--border); }
        .source-card li:last-child { border-bottom: none; }
        .source-card a { color: var(--text); text-decoration: none; transition: color 0.2s; }
        .source-card a:hover { color: var(--accent); }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        /* FAQ SECTION */
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .faq-section { margin-top: 48px; padding-top: 32px; border-top: 1px solid var(--border); }
        .faq-section h2 { font-size: 1.2rem; color: var(--text); margin-bottom: 24px; text-align: center; }
        .faq-grid { display: grid; gap: 12px; max-width: 800px; margin: 0 auto; }
        .faq-item { background: var(--card); border: 1px solid var(--border); border-radius: 8px; overflow: hidden; }
        .faq-item summary { padding: 16px 20px; cursor: pointer; font-weight: 600; color: var(--text); font-size: 0.9rem; list-style: none; display: flex; justify-content: space-between; align-items: center; transition: background 0.2s; }
        .faq-item summary::-webkit-details-marker { display: none; }
        .faq-item summary::after { content: '+'; font-size: 1.2rem; color: var(--accent); font-weight: 400; }
        .faq-item[open] summary::after { content: 'âˆ’'; }
        .faq-item summary:hover { background: var(--card-hover); }
        .faq-item p { padding: 0 20px 16px; color: var(--dim); font-size: 0.85rem; line-height: 1.7; }
        .faq-item p strong { color: var(--text); }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        /* TL;DR MODAL */
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .tldr-btn { background: var(--accent); color: #000; border: none; padding: 6px 12px; border-radius: 4px; font-size: 0.7rem; font-weight: 700; font-family: inherit; cursor: pointer; transition: all 0.2s; text-transform: uppercase; letter-spacing: 0.5px; position: relative; display: inline-flex; align-items: center; gap: 4px; }
        .tldr-btn::after { content: 'AI'; font-size: 0.55rem; background: #000; color: var(--accent); padding: 1px 3px; border-radius: 2px; font-weight: 700; }
        .tldr-btn:hover { background: #fff; transform: scale(1.05); }
        
        .modal-overlay { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.85); z-index: 2000; align-items: center; justify-content: center; padding: 20px; backdrop-filter: blur(4px); -webkit-backdrop-filter: blur(4px); }
        .modal-overlay.active { display: flex; }
        .modal-content { background: var(--card); border: 1px solid var(--border); border-radius: 12px; max-width: 600px; width: 100%; max-height: 85vh; overflow-y: auto; position: relative; animation: modalSlide 0.2s ease-out; -webkit-overflow-scrolling: touch; }
        @keyframes modalSlide { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }
        .modal-header { padding: 20px; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: flex-start; gap: 16px; }
        .modal-header-content h3 { font-size: 0.75rem; color: var(--accent); text-transform: uppercase; letter-spacing: 1px; margin: 0 0 6px 0; display: flex; align-items: center; gap: 8px; }
        .modal-header-content h3 .ai-badge { background: linear-gradient(135deg, #8b5cf6, #3b82f6); color: #fff; font-size: 0.6rem; padding: 2px 6px; border-radius: 3px; font-weight: 700; }
        .modal-header-content .ai-explain { font-size: 0.7rem; color: var(--dim); font-weight: 400; }
        .modal-close { background: none; border: none; color: var(--dim); font-size: 1.5rem; cursor: pointer; padding: 0; line-height: 1; flex-shrink: 0; }
        .modal-close:hover { color: var(--text); }
        .modal-body { padding: 20px; max-height: 50vh; overflow-y: auto; -webkit-overflow-scrolling: touch; }
        .modal-source { display: inline-flex; align-items: center; gap: 8px; background: var(--bg); padding: 6px 12px; border-radius: 4px; font-size: 0.8rem; color: var(--dim); margin-bottom: 16px; }
        .modal-thumb { max-height: 150px; width: 100%; object-fit: cover; border-radius: 8px; margin-bottom: 16px; }
        .modal-title { font-size: 1.1rem; font-weight: 600; color: var(--text); margin-bottom: 16px; line-height: 1.4; }
        .modal-summary { color: var(--text); font-size: 0.9rem; line-height: 1.8; white-space: pre-wrap; }
        .modal-footer { padding: 16px 20px; border-top: 1px solid var(--border); display: flex; gap: 12px; justify-content: flex-end; }
        .modal-btn { padding: 10px 20px; border-radius: 6px; font-family: inherit; font-size: 0.85rem; font-weight: 600; cursor: pointer; transition: all 0.2s; text-decoration: none; }
        .modal-btn-secondary { background: var(--bg); border: 1px solid var(--border); color: var(--dim); }
        .modal-btn-secondary:hover { border-color: var(--text); color: var(--text); }
        .modal-btn-primary { background: var(--accent); border: 1px solid var(--accent); color: #000; }
        .modal-btn-primary:hover { background: #fff; }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        /* MOBILE RESPONSIVE */
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        @media (max-width: 768px) {
            .hero { padding: 24px 16px; }
            .hero h1 { font-size: 1.5rem; }
            .hero p { font-size: 0.85rem; line-height: 1.5; }
            .ai-feature { flex-direction: column; padding: 14px; gap: 10px; margin-bottom: 20px; }
            .ai-feature-badge { align-self: flex-start; }
            .ai-feature-text { font-size: 0.78rem; }
            .stats-bar { gap: 12px; }
            .stat { min-width: 70px; }
            .stat-value { font-size: 1.3rem; }
            .stat-label { font-size: 0.65rem; }
            .filters { gap: 6px; flex-wrap: nowrap; overflow-x: auto; -webkit-overflow-scrolling: touch; scrollbar-width: none; padding-bottom: 8px; }
            .filters::-webkit-scrollbar { display: none; }
            .filter-btn { padding: 10px 14px; font-size: 0.7rem; flex-shrink: 0; min-height: 44px; }
            .feed-grid { grid-template-columns: 1fr; gap: 12px; padding: 0 4px; }
            .article-thumb { height: 160px; }
            .article-body { padding: 14px; }
            .article-title { font-size: 0.9rem; }
            .article-excerpt { font-size: 0.78rem; -webkit-line-clamp: 2; }
            .tldr-btn, .article-link { min-height: 44px; padding: 10px 14px; font-size: 0.72rem; }
            .modal-overlay { padding: 12px; align-items: flex-end; }
            .modal-content { max-height: 90vh; border-radius: 16px 16px 0 0; animation: modalSlideUp 0.25s ease-out; }
            @keyframes modalSlideUp { from { opacity: 0; transform: translateY(100%); } to { opacity: 1; transform: translateY(0); } }
            .modal-header { padding: 16px; position: sticky; top: 0; background: var(--card); z-index: 1; }
            .modal-body { padding: 16px; max-height: 55vh; }
            .modal-title { font-size: 1rem; }
            .modal-summary { font-size: 0.9rem; line-height: 1.7; }
            .modal-footer { padding: 12px 16px; position: sticky; bottom: 0; background: var(--card); }
            .modal-btn { padding: 12px 16px; min-height: 44px; font-size: 0.8rem; }
            .modal-close { min-width: 44px; min-height: 44px; display: flex; align-items: center; justify-content: center; }
            .sources-section { padding: 24px 16px; }
            .sources-grid { grid-template-columns: 1fr; gap: 12px; }
            .source-card { padding: 14px; }
            .source-card h3 { font-size: 0.85rem; }
            .source-card a { padding: 8px 0; min-height: 44px; display: flex; align-items: center; }
            .faq-section { margin-top: 32px; padding-top: 24px; }
            .faq-section h2 { font-size: 1rem; margin-bottom: 16px; }
            .faq-item summary { padding: 14px 16px; font-size: 0.85rem; min-height: 44px; }
            .faq-item p { padding: 0 16px 14px; font-size: 0.8rem; }
        }
        
        @media (max-width: 380px) {
            .hero h1 { font-size: 1.3rem; }
            .stat-value { font-size: 1.1rem; }
            .filter-btn { padding: 8px 10px; }
        }
    </style>
</head>
<body>
    <!-- Header (loaded from components/header.html) -->
    <div id="header-placeholder"></div>
    
    <!-- PAGE CONTENT -->
    <div class="hero">
        <h1>ğŸ“° The <span>Ag News</span> Hub</h1>
        <p>Your one-stop destination for agriculture news. Community discussions, university research, and industry insightsâ€”all in one place, updated every 2 hours.</p>
        
        <div class="ai-feature">
            <div class="ai-feature-badge">âœ¨ AI-Powered</div>
            <div class="ai-feature-text">
                <strong>Quick Summaries:</strong> Click the <span class="inline-btn">ğŸ“‹ Summary <span class="mini-badge">AI</span></span> button on any article for an instant AI-generated summary. We fetch the full article and use Claude AI to create a comprehensive 4-6 sentence overviewâ€”so you get the key facts without reading the whole thing.
            </div>
        </div>
        
        <div class="stats-bar">
            <div class="stat">
                <div class="stat-value" id="stat-articles">--</div>
                <div class="stat-label">Articles</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="stat-sources">30+</div>
                <div class="stat-label">Sources</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="stat-updated">--</div>
                <div class="stat-label">Updated</div>
            </div>
        </div>
    </div>
    
    <main>
        <div class="filters">
            <button class="filter-btn active" data-cat="all">ğŸŒ All <span class="count" id="count-all">0</span></button>
            <button class="filter-btn" data-cat="community">ğŸ”¥ Community <span class="count" id="count-community">0</span></button>
            <button class="filter-btn" data-cat="government">ğŸ›ï¸ Government <span class="count" id="count-government">0</span></button>
            <button class="filter-btn" data-cat="university">ğŸ“ University <span class="count" id="count-university">0</span></button>
            <button class="filter-btn" data-cat="industry">ğŸ“° Industry <span class="count" id="count-industry">0</span></button>
            <button class="filter-btn" data-cat="markets">ğŸ’¹ Markets <span class="count" id="count-markets">0</span></button>
            <button class="filter-btn" data-cat="weather">ğŸŒ¦ï¸ Weather <span class="count" id="count-weather">0</span></button>
        </div>
        
        <div class="status-bar">
            <span class="live" id="statusLive" style="display:none">Live</span>
            <span id="statusText">Loading feeds...</span>
        </div>
        
        <div class="feed-grid" id="feed">
            <div class="loading">Fetching latest ag news...</div>
        </div>
        
        <div class="sources-section">
            <h2>ğŸ“¡ Our <span>Sources</span></h2>
            <div class="sources-grid">
                <div class="source-card">
                    <h3><span class="dot community"></span> Reddit Communities</h3>
                    <ul>
                        <li><a href="https://reddit.com/r/farming" target="_blank">r/farming</a></li>
                        <li><a href="https://reddit.com/r/agriculture" target="_blank">r/agriculture</a></li>
                        <li><a href="https://reddit.com/r/tractors" target="_blank">r/tractors</a></li>
                        <li><a href="https://reddit.com/r/ranching" target="_blank">r/ranching</a></li>
                        <li><a href="https://reddit.com/r/agronomy" target="_blank">r/agronomy</a></li>
                        <li><a href="https://reddit.com/r/dairyfarming" target="_blank">r/dairyfarming</a></li>
                        <li><a href="https://reddit.com/r/Cattle" target="_blank">r/Cattle</a></li>
                    </ul>
                </div>
                <div class="source-card">
                    <h3><span class="dot university"></span> University Extension</h3>
                    <ul>
                        <li><a href="https://ipcm.wisc.edu" target="_blank">UW Madison</a></li>
                        <li><a href="https://farmdoc.illinois.edu" target="_blank">farmdoc (UIUC)</a></li>
                        <li><a href="https://ag.purdue.edu" target="_blank">Purdue Ag</a></li>
                        <li><a href="https://crops.extension.iastate.edu" target="_blank">Iowa State</a></li>
                        <li><a href="https://extension.umn.edu" target="_blank">UMN Crop News</a></li>
                        <li><a href="https://agrilifetoday.tamu.edu" target="_blank">Texas A&M AgriLife</a></li>
                    </ul>
                </div>
                <div class="source-card">
                    <h3><span class="dot industry"></span> Industry News</h3>
                    <ul>
                        <li><a href="https://brownfieldagnews.com" target="_blank">Brownfield</a></li>
                        <li><a href="https://feedstuffs.com" target="_blank">Feedstuffs</a></li>
                        <li><a href="https://agweek.com" target="_blank">Agweek</a></li>
                        <li><a href="https://modernfarmer.com" target="_blank">Modern Farmer</a></li>
                        <li><a href="https://civileats.com" target="_blank">Civil Eats</a></li>
                        <li><a href="https://agdaily.com" target="_blank">AgDaily</a></li>
                        <li><a href="https://tsln.com" target="_blank">Tri-State Livestock</a></li>
                        <li><a href="https://lancasterfarming.com" target="_blank">Lancaster Farming</a></li>
                        <li><a href="https://allagnews.com" target="_blank">All Ag News</a></li>
                        <li><a href="https://farmjournal.com" target="_blank">Farm Journal</a></li>
                        <li><a href="https://croplife.com" target="_blank">CropLife</a></li>
                        <li><a href="https://morningagclips.com" target="_blank">Morning Ag Clips</a></li>
                    </ul>
                </div>
                <div class="source-card">
                    <h3><span class="dot markets"></span> Markets</h3>
                    <ul>
                        <li><a href="https://farms.com" target="_blank">Farms.com</a> - Market news</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div class="faq-section">
            <h2>â“ Frequently Asked Questions</h2>
            <div class="faq-grid">
                <details class="faq-item">
                    <summary>What is AGSIST Agriculture News Hub?</summary>
                    <p>AGSIST Agriculture News Hub is a free news aggregator that collects farming and agriculture news from over 30 sources including Reddit communities, university extension services, and industry publications. Articles are updated every 2 hours and include AI-powered summaries so you can quickly understand the key points.</p>
                </details>
                <details class="faq-item">
                    <summary>How do the AI summaries work?</summary>
                    <p>When you click the <strong>Summary</strong> button on any article, our system fetches the full article content and uses Claude AI to generate a comprehensive 4-6 sentence summary. The summary covers key facts, specific numbers or dates mentioned, why the news matters to farmers, and any action items or recommendations.</p>
                </details>
                <details class="faq-item">
                    <summary>What sources does the news hub aggregate from?</summary>
                    <p>We aggregate from 30+ trusted sources including: <strong>Reddit communities</strong> (r/farming, r/agriculture, r/tractors, r/ranching), <strong>University extension services</strong> (UW Madison, Purdue, Iowa State, UMN, Texas A&M), and <strong>Industry publications</strong> (AgDaily, Farm Journal, Brownfield, Lancaster Farming, Civil Eats, and more).</p>
                </details>
                <details class="faq-item">
                    <summary>How often is the news updated?</summary>
                    <p>The Agriculture News Hub automatically fetches new articles from all sources every 2 hours via GitHub Actions. This ensures you always have access to the latest farming news, market updates, and agricultural research without needing to check multiple websites.</p>
                </details>
                <details class="faq-item">
                    <summary>Is this service free?</summary>
                    <p>Yes! AGSIST Agriculture News Hub is completely free to use. We believe farmers and agricultural professionals deserve easy access to comprehensive news without paywalls or subscriptions. The site is supported by AGSIST's other agricultural services.</p>
                </details>
            </div>
        </div>
    </main>

    <!-- Footer (loaded from components/footer.html) -->
    <div id="footer-placeholder"></div>
    
    <!-- TL;DR Modal -->
    <div class="modal-overlay" id="tldr-modal">
        <div class="modal-content" id="tldr-content"></div>
    </div>
    
    <!-- Load shared components (header + footer) -->
    <script src="components/includes.js"></script>
    
    <!-- Page JavaScript -->
    <script>
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // CONFIG
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const GITHUB_USER = 'dnilgis';
        const GITHUB_REPO = 'agsist';
        const GITHUB_BRANCH = 'main';
        const NEWS_URL = `https://raw.githubusercontent.com/${GITHUB_USER}/${GITHUB_REPO}/${GITHUB_BRANCH}/data/news.json`;
        
        let allItems = [];
        let currentFilter = 'all';
        
        const feed = document.getElementById('feed');
        const statusText = document.getElementById('statusText');
        const statusLive = document.getElementById('statusLive');
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // HELPERS
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        function timeAgo(timestamp) {
            const now = Date.now();
            const diff = Math.floor((now - timestamp) / 1000);
            if (diff < 60) return 'just now';
            if (diff < 3600) return Math.floor(diff / 60) + 'm ago';
            if (diff < 86400) return Math.floor(diff / 3600) + 'h ago';
            if (diff < 604800) return Math.floor(diff / 86400) + 'd ago';
            return new Date(timestamp).toLocaleDateString();
        }
        
        function formatDate(isoString) {
            const d = new Date(isoString);
            return d.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
        }
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // RENDER
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        function renderArticles(items) {
            if (!items || items.length === 0) {
                feed.innerHTML = '<div class="empty">No articles found. Try a different filter.</div>';
                return;
            }
            
            feed.innerHTML = items.map(item => {
                const title = (item.title || '').replace(/</g, '&lt;').replace(/>/g, '&gt;');
                const source = (item.source || '').replace(/</g, '&lt;').replace(/>/g, '&gt;');
                const description = item.description ? item.description.substring(0, 120).replace(/</g, '&lt;').replace(/>/g, '&gt;') : '';
                const hasMoreDesc = item.description && item.description.length > 120;
                
                return `<article class="article ${item.category === 'community' ? 'reddit' : ''}" data-category="${item.category}">
                    ${item.thumbnail ? `<img class="article-thumb" src="${item.thumbnail}" alt="" loading="lazy" onerror="this.style.display='none'">` : ''}
                    <div class="article-body">
                        <div class="article-meta">
                            <span class="article-source ${item.category}">${item.icon || ''} ${source}</span>
                            <span class="article-date">${timeAgo(item.timestamp)}</span>
                        </div>
                        <h3 class="article-title">${title}</h3>
                        ${description ? `<p class="article-excerpt">${description}${hasMoreDesc ? '...' : ''}</p>` : ''}
                        <div class="article-footer">
                            <button class="tldr-btn" onclick="showTLDR('${item.id}')" title="AI-generated comprehensive summary">ğŸ“‹ Summary</button>
                            <a class="article-link" href="${item.link}" target="_blank" rel="noopener">Read more â†’</a>
                        </div>
                    </div>
                </article>`;
            }).join('');
        }
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // FILTER
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        function updateCounts() {
            const counts = { all: allItems.length };
            ['community', 'government', 'university', 'industry', 'markets', 'weather'].forEach(cat => {
                counts[cat] = allItems.filter(a => a.category === cat).length;
            });
            Object.keys(counts).forEach(cat => {
                const el = document.getElementById(`count-${cat}`);
                if (el) el.textContent = counts[cat];
            });
            document.getElementById('stat-articles').textContent = allItems.length;
        }
        
        function applyFilter(category) {
            currentFilter = category;
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.cat === category);
            });
            const filtered = category === 'all' ? allItems : allItems.filter(a => a.category === category);
            renderArticles(filtered);
            if (typeof gtag !== 'undefined') {
                gtag('event', 'filter_articles', { 'filter_category': category, 'results_count': filtered.length });
            }
        }
        
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', () => applyFilter(btn.dataset.cat));
        });
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // FETCH
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        async function fetchNews() {
            try {
                const res = await fetch(NEWS_URL + '?t=' + Date.now());
                if (!res.ok) throw new Error(`HTTP ${res.status}`);
                const data = await res.json();
                
                if (data.items && data.items.length > 0) {
                    allItems = data.items;
                    statusLive.style.display = 'flex';
                    statusText.textContent = `${data.items.length} articles from ${data.feedCount || '25+'} sources`;
                    document.getElementById('stat-updated').textContent = formatDate(data.updated);
                    updateCounts();
                    applyFilter(currentFilter);
                } else {
                    throw new Error('No items in feed');
                }
            } catch (err) {
                console.error('Feed error:', err);
                statusText.textContent = 'Loading from backup...';
                await fetchRedditFallback();
            }
        }
        
        async function fetchRedditFallback() {
            const subreddits = ['farming', 'agriculture', 'tractors', 'ranching'];
            const items = [];
            
            for (const sub of subreddits) {
                try {
                    const res = await fetch(`https://www.reddit.com/r/${sub}/hot.json?limit=10`);
                    const data = await res.json();
                    
                    data.data.children.forEach(post => {
                        const p = post.data;
                        if (p.stickied) return;
                        items.push({
                            id: p.id,
                            title: p.title,
                            link: `https://reddit.com${p.permalink}`,
                            description: p.selftext?.substring(0, 200) || '',
                            timestamp: p.created_utc * 1000,
                            source: `r/${sub}`,
                            category: 'community',
                            icon: 'ğŸšœ',
                            thumbnail: p.thumbnail?.startsWith('http') ? p.thumbnail : null,
                            summary: p.selftext?.substring(0, 300) || `Discussion on r/${sub}`
                        });
                    });
                } catch (e) { console.warn(`Failed to fetch r/${sub}`); }
            }
            
            if (items.length > 0) {
                allItems = items.sort((a, b) => b.timestamp - a.timestamp);
                statusLive.style.display = 'flex';
                statusText.textContent = `${items.length} posts from Reddit (backup mode)`;
                document.getElementById('stat-updated').textContent = 'Now';
                updateCounts();
                applyFilter(currentFilter);
            } else {
                feed.innerHTML = '<div class="error">Unable to load news. Please try again later.</div>';
                statusText.textContent = 'Connection error';
            }
        }
        
        fetchNews();
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // TL;DR MODAL
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        let currentArticle = null;
        
        function showTLDR(articleId) {
            const article = allItems.find(a => a.id === articleId);
            if (!article) return;
            
            currentArticle = article;
            const modal = document.getElementById('tldr-modal');
            const content = document.getElementById('tldr-content');
            
            let summary = article.summary || article.description || '';
            const isAISummary = !!article.summary && article.summary.length > 100;
            
            if (!summary || summary.length < 20) {
                summary = `This ${article.category} post from ${article.source} discusses: "${article.title}"`;
            }
            
            content.innerHTML = `
                <div class="modal-header">
                    <div class="modal-header-content">
                        <h3>ğŸ“‹ Quick Summary <span class="ai-badge">AI</span></h3>
                        <p class="ai-explain">${isAISummary ? 'Generated by AI from the full article' : 'From article description'}</p>
                    </div>
                    <button class="modal-close" onclick="closeTLDR()" aria-label="Close">Ã—</button>
                </div>
                <div class="modal-body">
                    ${article.thumbnail ? `<img class="modal-thumb" src="${article.thumbnail}" alt="" onerror="this.remove()">` : ''}
                    <div class="modal-source">${article.icon || 'ğŸ“°'} ${article.source} â€¢ ${timeAgo(article.timestamp)}</div>
                    <h2 class="modal-title">${article.title}</h2>
                    <div class="modal-summary">${summary}</div>
                </div>
                <div class="modal-footer">
                    <button class="modal-btn modal-btn-secondary" onclick="closeTLDR()">Close</button>
                    <a class="modal-btn modal-btn-primary" href="${article.link}" target="_blank" rel="noopener">Read Full Article â†’</a>
                </div>
            `;
            
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
            
            if (typeof gtag !== 'undefined') {
                gtag('event', 'view_ai_summary', { 'article_source': article.source, 'article_category': article.category });
            }
        }
        
        function closeTLDR() {
            document.getElementById('tldr-modal').classList.remove('active');
            document.body.style.overflow = '';
            currentArticle = null;
        }
        
        document.getElementById('tldr-modal').addEventListener('click', (e) => {
            if (e.target.id === 'tldr-modal') closeTLDR();
        });
        
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') closeTLDR();
        });
    </script>
</body>
</html>
